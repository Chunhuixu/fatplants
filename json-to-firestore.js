const admin = require('firebase-admin');
const serviceAccount = require("./fatplantsmu-eb07c-firebase-adminsdk-75ayj-b4496a9067.json");
const fs = require('fs');
const { getSystemErrorMap } = require('util');
admin.initializeApp({
    credential: admin.credential.cert(serviceAccount),
    databaseURL: "https://fatplantsmu-eb07c.firebaseio.com"
});

tair_ids = [
    "AT1G01070",
"AT1G01090",
"AT1G01120",
"AT1G01710",
"AT1G02660",
"AT1G03880",
"AT1G04220",
"AT1G04410",
"AT1G04710",
"AT1G05610",
"AT1G06020",
"AT1G06030",
"AT1G06290",
"AT1G06310",
"AT1G07720",
"AT1G08510",
"AT1G09390",
"AT1G09420",
"AT1G09430",
"AT1G09780",
"AT1G10010",
"AT1G10070",
"AT1G10670",
"AT1G10740",
"AT1G11090",
"AT1G11320",
"AT1G11720",
"AT1G12230",
"AT1G12640",
"AT1G12900",
"AT1G13440",
"AT1G13700",
"AT1G16240",
"AT1G16300",
"AT1G17810",
"AT1G18360",
"AT1G19440",
"AT1G20120",
"AT1G20130",
"AT1G20132",
"AT1G20620",
"AT1G20630",
"AT1G21970",
"AT1G22650",
"AT1G23190",
"AT1G23250",
"AT1G23330",
"AT1G23800",
"AT1G24180",
"AT1G24280",
"AT1G24360",
"AT1G24470",
"AT1G25450",
"AT1G27680",
"AT1G28300",
"AT1G28580",
"AT1G28590",
"AT1G28600",
"AT1G28610",
"AT1G28640",
"AT1G28660",
"AT1G29660",
"AT1G29670",
"AT1G29760",
"AT1G30120",
"AT1G31480",
"AT1G31550",
"AT1G31812",
"AT1G32060",
"AT1G32440",
"AT1G32900",
"AT1G33811",
"AT1G34200",
"AT1G34430",
"AT1G35580",
"AT1G36160",
"AT1G36180",
"AT1G42960",
"AT1G42970",
"AT1G43670",
"AT1G43800",
"AT1G45201",
"AT1G47840",
"AT1G48300",
"AT1G48470",
"AT1G48990",
"AT1G49430",
"AT1G50460",
"AT1G52670",
"AT1G52690",
"AT1G52760",
"AT1G53240",
"AT1G53310",
"AT1G53500",
"AT1G53920",
"AT1G53990",
"AT1G54000",
"AT1G54010",
"AT1G54020",
"AT1G54060",
"AT1G54220",
"AT1G54350",
"AT1G54370",
"AT1G54580",
"AT1G54630",
"AT1G54790",
"AT1G56190",
"AT1G56670",
"AT1G58030",
"AT1G58150",
"AT1G58360",
"AT1G58520",
"AT1G59900",
"AT1G60810",
"AT1G61800",
"AT1G61850",
"AT1G62610",
"AT1G62640",
"AT1G63050",
"AT1G64190",
"AT1G64400",
"AT1G66200",
"AT1G67090",
"AT1G67730",
"AT1G68530",
"AT1G70410",
"AT1G70670",
"AT1G70680",
"AT1G70730",
"AT1G70820",
"AT1G71100",
"AT1G71120",
"AT1G71160",
"AT1G71250",
"AT1G71691",
"AT1G71697",
"AT1G71890",
"AT1G72000",
"AT1G73370",
"AT1G73480",
"AT1G73610",
"AT1G74320",
"AT1G74460",
"AT1G74960",
"AT1G75020",
"AT1G75890",
"AT1G75900",
"AT1G75920",
"AT1G77210",
"AT1G77420",
"AT1G77590",
"AT1G79530",
"AT1G79550",
"AT1G79750",
"AT2G01140",
"AT2G01290",
"AT2G02040",
"AT2G03980",
"AT2G04350",
"AT2G04570",
"AT2G05710",
"AT2G05990",
"AT2G06925",
"AT2G13560",
"AT2G14720",
"AT2G14740",
"AT2G15090",
"AT2G15230",
"AT2G15620",
"AT2G16280",
"AT2G17130",
"AT2G19450",
"AT2G19860",
"AT2G19900",
"AT2G20420",
"AT2G21170",
"AT2G21330",
"AT2G21590",
"AT2G22170",
"AT2G22230",
"AT2G22480",
"AT2G22780",
"AT2G23540",
"AT2G24270",
"AT2G24560",
"AT2G25540",
"AT2G25890",
"AT2G26250",
"AT2G26560",
"AT2G26640",
"AT2G27360",
"AT2G28630",
"AT2G28900",
"AT2G29560",
"AT2G30200",
"AT2G30220",
"AT2G30290",
"AT2G30310",
"AT2G30470",
"AT2G30550",
"AT2G32260",
"AT2G33150",
"AT2G33380",
"AT2G34380",
"AT2G34590",
"AT2G35690",
"AT2G36325",
"AT2G36390",
"AT2G36460",
"AT2G36580",
"AT2G38040",
"AT2G38550",
"AT2G39220",
"AT2G39400",
"AT2G39410",
"AT2G39420",
"AT2G39510",
"AT2G40220",
"AT2G40900",
"AT2G41220",
"AT2G41540",
"AT2G42010",
"AT2G42600",
"AT2G42790",
"AT2G42990",
"AT2G43100",
"AT2G43710",
"AT2G44350",
"AT2G44810",
"AT2G45290",
"AT2G46720",
"AT2G47240",
"AT2G47510",
"AT2G47630",
"AT3G01180",
"AT3G01500",
"AT3G01570",
"AT3G02360",
"AT3G02610",
"AT3G02620",
"AT3G02630",
"AT3G02900",
"AT3G03210",
"AT3G03520",
"AT3G03530",
"AT3G04050",
"AT3G04120",
"AT3G04290",
"AT3G04550",
"AT3G05020",
"AT3G05180",
"AT3G05420",
"AT3G05630",
"AT3G05820",
"AT3G05970",
"AT3G06483",
"AT3G06650",
"AT3G06860",
"AT3G07690",
"AT3G08510",
"AT3G08590",
"AT3G09560",
"AT3G09810",
"AT3G09930",
"AT3G12780",
"AT3G13930",
"AT3G14210",
"AT3G14220",
"AT3G14360",
"AT3G14820",
"AT3G14940",
"AT3G15020",
"AT3G15690",
"AT3G15730",
"AT3G15820",
"AT3G16910",
"AT3G16950",
"AT3G17820",
"AT3G18570",
"AT3G18850",
"AT3G20040",
"AT3G20440",
"AT3G21720",
"AT3G22960",
"AT3G24503",
"AT3G24650",
"AT3G25110",
"AT3G25860",
"AT3G26650",
"AT3G26790",
"AT3G27300",
"AT3G27380",
"AT3G27660",
"AT3G43190",
"AT3G44830",
"AT3G47350",
"AT3G47520",
"AT3G48460",
"AT3G48610",
"AT3G49360",
"AT3G49680",
"AT3G50400",
"AT3G50790",
"AT3G51520",
"AT3G51840",
"AT3G52160",
"AT3G52200",
"AT3G52850",
"AT3G52930",
"AT3G52990",
"AT3G53100",
"AT3G54300",
"AT3G54320",
"AT3G54950",
"AT3G55180",
"AT3G55290",
"AT3G55360",
"AT3G55410",
"AT3G55440",
"AT3G55650",
"AT3G56040",
"AT3G56130",
"AT3G57140",
"AT3G57280",
"AT3G57650",
"AT3G58740",
"AT3G58750",
"AT3G58990",
"AT3G60100",
"AT3G60750",
"AT3G61680",
"AT3G62280",
"AT3G62860",
"AT4G00570",
"AT4G01130",
"AT4G01430",
"AT4G01900",
"AT4G02280",
"AT4G09510",
"AT4G09760",
"AT4G10020",
"AT4G10950",
"AT4G13050",
"AT4G15130",
"AT4G16155",
"AT4G16760",
"AT4G18240",
"AT4G18780",
"AT4G18970",
"AT4G19860",
"AT4G23850",
"AT4G24230",
"AT4G24620",
"AT4G25050",
"AT4G25140",
"AT4G26270",
"AT4G26390",
"AT4G26520",
"AT4G26530",
"AT4G26740",
"AT4G26790",
"AT4G26910",
"AT4G26970",
"AT4G27140",
"AT4G27150",
"AT4G27160",
"AT4G27170",
"AT4G27780",
"AT4G28520",
"AT4G28780",
"AT4G29010",
"AT4G29130",
"AT4G29220",
"AT4G29470",
"AT4G32010",
"AT4G32210",
"AT4G32410",
"AT4G32840",
"AT4G33070",
"AT4G33580",
"AT4G34250",
"AT4G34510",
"AT4G34520",
"AT4G34860",
"AT4G35090",
"AT4G35260",
"AT4G35650",
"AT4G35790",
"AT4G35830",
"AT4G37050",
"AT4G37870",
"AT4G38970",
"AT4G39210",
"AT4G39350",
"AT4G39670",
"AT4G39850",
"AT5G01320",
"AT5G01330",
"AT5G03290",
"AT5G03610",
"AT5G03650",
"AT5G03690",
"AT5G03810",
"AT5G03820",
"AT5G03860",
"AT5G04040",
"AT5G04140",
"AT5G04530",
"AT5G04770",
"AT5G05170",
"AT5G07510",
"AT5G07520",
"AT5G07530",
"AT5G07540",
"AT5G07550",
"AT5G07560",
"AT5G07600",
"AT5G08300",
"AT5G08460",
"AT5G08570",
"AT5G09220",
"AT5G09660",
"AT5G09870",
"AT5G10160",
"AT5G11650",
"AT5G11670",
"AT5G12860",
"AT5G13110",
"AT5G13420",
"AT5G13640",
"AT5G14200",
"AT5G14450",
"AT5G14740",
"AT5G14930",
"AT5G14980",
"AT5G15530",
"AT5G15720",
"AT5G16120",
"AT5G16230",
"AT5G16240",
"AT5G16370",
"AT5G16390",
"AT5G16460",
"AT5G16570",
"AT5G16660",
"AT5G17420",
"AT5G18430",
"AT5G18630",
"AT5G18640",
"AT5G19220",
"AT5G19290",
"AT5G19760",
"AT5G20830",
"AT5G21060",
"AT5G22810",
"AT5G23050",
"AT5G23250",
"AT5G24300",
"AT5G24410",
"AT5G24420",
"AT5G24770",
"AT5G24780",
"AT5G25880",
"AT5G27200",
"AT5G27600",
"AT5G27630",
"AT5G33320",
"AT5G35360",
"AT5G35630",
"AT5G35790",
"AT5G36880",
"AT5G37180",
"AT5G37600",
"AT5G38410",
"AT5G38420",
"AT5G38430",
"AT5G39510",
"AT5G40180",
"AT5G40420",
"AT5G40650",
"AT5G40760",
"AT5G41670",
"AT5G42740",
"AT5G42870",
"AT5G42930",
"AT5G43330",
"AT5G43760",
"AT5G44030",
"AT5G44120",
"AT5G45670",
"AT5G45910",
"AT5G45920",
"AT5G46110",
"AT5G46290",
"AT5G46860",
"AT5G47810",
"AT5G48300",
"AT5G48370",
"AT5G48880",
"AT5G49070",
"AT5G49190",
"AT5G49460",
"AT5G50600",
"AT5G50700",
"AT5G50770",
"AT5G50950",
"AT5G51210",
"AT5G51820",
"AT5G52920",
"AT5G53460",
"AT5G53470",
"AT5G54740",
"AT5G54960",
"AT5G55050",
"AT5G55070",
"AT5G55240",
"AT5G56350",
"AT5G56630",
"AT5G58330",
"AT5G59770",
"AT5G60620",
"AT5G61410",
"AT5G61580",
"AT5G61730",
"AT5G62930",
"AT5G63680",
"AT5G64740",
"AT5G65110",
"AT5G65165",
"AT5G65690",
"AT5G65750",
"AT5G65780",
"AT5G66160",
"AT5G66760",
"ATCG00490",
"ATCG00500",
"AT1G18120",
"AT1G28620",
"AT1G34100",
"AT1G52696",
"AT4G00520",
];

tair_ids.forEach(id => {
    admin.firestore()
    .collection("OnestopTranslationExtended")
    .where("tair_id", "==", id)
    .get()
    .then((res) => {
        if (res.docs[0]) {
            fs.writeFile('./uniprots.txt', '"' + id + '": "' + res.docs[0].get('uniprot_id') + '",' + '\n', {flag: 'a+'}, err => {
                if (err){
                    console.log(err);
                }
            })
        }
        else {
            fs.writeFile('./uniprots.txt', '"'+ id + '": "",\n', {flag: 'a+'}, err => {
                if (err){
                    console.log(err);
                }
            })
        }
    })
    .catch((error) => {
        console.error("Error writing document: ", error);
    });
});
